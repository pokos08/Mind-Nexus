-- ==============================================================================
-- データベース初期化用スクリプト (テストデータの一括消去)
-- 
-- 以下のSQLをSupabaseの「SQL Editor」に貼り付けて実行することで、
-- テーブルの構造は残したまま、中身の全データをリセット（空に）できます。
-- ==============================================================================

-- 各テーブルのデータを全件削除します。
-- ※DELETE文で実行しても良いですが、全件消去の場合はTRUNCATEの方が高速で
--   内部的なIDカウンター等もリセットできるため推奨されます。
-- ※CASCADE を付けることで参照整合性（FOREIGN KEY）のエラーを回避し、
--   関連する子テーブルのデータも安全に一括消去されます。

TRUNCATE TABLE topics CASCADE;
TRUNCATE TABLE nodes CASCADE;
TRUNCATE TABLE edges CASCADE;
TRUNCATE TABLE chat_messages CASCADE;

-- 実行後、ブラウザをリロードするとトピック一覧が空になり、
-- 再度最初からテストができるようになります。
